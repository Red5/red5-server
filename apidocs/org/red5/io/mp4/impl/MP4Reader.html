<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Fri May 23 10:27:24 PDT 2025 -->
<title>MP4Reader (Red5 2.0.18 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-05-23">
<meta name="description" content="declaration: package: org.red5.io.mp4.impl, class: MP4Reader">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MP4Reader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.red5.io.mp4.impl</a></div>
<h1 title="Class MP4Reader" class="title">Class MP4Reader</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">org.red5.io.mp4.impl.MP4Reader</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></code>, <code><a href="../../IoConstants.html" title="interface in org.red5.io">IoConstants</a></code>, <code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">MP4Reader</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="../../IoConstants.html" title="interface in org.red5.io">IoConstants</a>, <a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a>, <a href="../../flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></span></div>
<div class="block">This reader is used to read the contents of an MP4 file. <br>
 NOTE: This class is not implemented as thread-safe, the caller should ensure the thread-safety. <br>
 New NetStream notifications <br>
 Two new notifications facilitate the implementation of the playback components:
 <ul>
 <li>NetStream.Play.FileStructureInvalid: This event is sent if the player detects an MP4 with an invalid file structure. Flash Player
 cannot play files that have invalid file structures.</li>
 <li>NetStream.Play.NoSupportedTrackFound: This event is sent if the player does not detect any supported tracks. If there aren't any
 supported video, audio or data tracks found, Flash Player does not play the file.</li>
 </ul></div>
<dl class="notes">
<dt>Author:</dt>
<dd>The Red5 Project, Paul Gregoire (mondain@gmail.com)</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h2 id="nested-classes-inherited-from-class-org.red5.io.flv.IKeyFrameDataAnalyzer">Nested classes/interfaces inherited from interface&nbsp;org.red5.io.flv.<a href="../../flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></h2>
<code><a href="../../flv/IKeyFrameDataAnalyzer.KeyFrameMeta.html" title="class in org.red5.io.flv">IKeyFrameDataAnalyzer.KeyFrameMeta</a></code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static final byte[]</code></div>
<div class="col-second even-row-color"><code><a href="#EMPTY_AAC" class="member-name-link">EMPTY_AAC</a></code></div>
<div class="col-last even-row-color">
<div class="block">Blank AAC data</div>
</div>
<div class="col-first odd-row-color"><code>static final byte[]</code></div>
<div class="col-second odd-row-color"><code><a href="#PREFIX_AUDIO_CONFIG_FRAME" class="member-name-link">PREFIX_AUDIO_CONFIG_FRAME</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Audio packet prefix for the decoder frame</div>
</div>
<div class="col-first even-row-color"><code>static final byte[]</code></div>
<div class="col-second even-row-color"><code><a href="#PREFIX_AUDIO_FRAME" class="member-name-link">PREFIX_AUDIO_FRAME</a></code></div>
<div class="col-last even-row-color">
<div class="block">Audio packet prefix</div>
</div>
<div class="col-first odd-row-color"><code>static final byte[]</code></div>
<div class="col-second odd-row-color"><code><a href="#PREFIX_VIDEO_CONFIG_FRAME" class="member-name-link">PREFIX_VIDEO_CONFIG_FRAME</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Video packet prefix for the decoder frame</div>
</div>
<div class="col-first even-row-color"><code>static final byte[]</code></div>
<div class="col-second even-row-color"><code><a href="#PREFIX_VIDEO_FRAME" class="member-name-link">PREFIX_VIDEO_FRAME</a></code></div>
<div class="col-last even-row-color">
<div class="block">Video packet prefix for standard frames (interframe)</div>
</div>
<div class="col-first odd-row-color"><code>static final byte[]</code></div>
<div class="col-second odd-row-color"><code><a href="#PREFIX_VIDEO_KEYFRAME" class="member-name-link">PREFIX_VIDEO_KEYFRAME</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Video packet prefix for key frames</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-org.red5.io.IoConstants">Fields inherited from interface&nbsp;org.red5.io.<a href="../../IoConstants.html" title="interface in org.red5.io">IoConstants</a></h3>
<code><a href="../../IoConstants.html#FLAG_RATE_11_KHZ">FLAG_RATE_11_KHZ</a>, <a href="../../IoConstants.html#FLAG_RATE_22_KHZ">FLAG_RATE_22_KHZ</a>, <a href="../../IoConstants.html#FLAG_RATE_44_KHZ">FLAG_RATE_44_KHZ</a>, <a href="../../IoConstants.html#FLAG_RATE_48_KHZ">FLAG_RATE_48_KHZ</a>, <a href="../../IoConstants.html#FLAG_RATE_5_5_KHZ">FLAG_RATE_5_5_KHZ</a>, <a href="../../IoConstants.html#FLAG_SIZE_16_BIT">FLAG_SIZE_16_BIT</a>, <a href="../../IoConstants.html#FLAG_SIZE_8_BIT">FLAG_SIZE_8_BIT</a>, <a href="../../IoConstants.html#FLAG_TYPE_MONO">FLAG_TYPE_MONO</a>, <a href="../../IoConstants.html#FLAG_TYPE_STEREO">FLAG_TYPE_STEREO</a>, <a href="../../IoConstants.html#MASK_SOUND_FORMAT">MASK_SOUND_FORMAT</a>, <a href="../../IoConstants.html#MASK_SOUND_RATE">MASK_SOUND_RATE</a>, <a href="../../IoConstants.html#MASK_SOUND_SIZE">MASK_SOUND_SIZE</a>, <a href="../../IoConstants.html#MASK_SOUND_TYPE">MASK_SOUND_TYPE</a>, <a href="../../IoConstants.html#MASK_VIDEO_CODEC">MASK_VIDEO_CODEC</a>, <a href="../../IoConstants.html#MASK_VIDEO_FRAMETYPE">MASK_VIDEO_FRAMETYPE</a>, <a href="../../IoConstants.html#TYPE_AUDIO">TYPE_AUDIO</a>, <a href="../../IoConstants.html#TYPE_ENCRYPTED">TYPE_ENCRYPTED</a>, <a href="../../IoConstants.html#TYPE_ENCRYPTED_AUDIO">TYPE_ENCRYPTED_AUDIO</a>, <a href="../../IoConstants.html#TYPE_ENCRYPTED_METADATA">TYPE_ENCRYPTED_METADATA</a>, <a href="../../IoConstants.html#TYPE_ENCRYPTED_VIDEO">TYPE_ENCRYPTED_VIDEO</a>, <a href="../../IoConstants.html#TYPE_METADATA">TYPE_METADATA</a>, <a href="../../IoConstants.html#TYPE_VIDEO">TYPE_VIDEO</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.io.File)" class="member-name-link">MP4Reader</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;f)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates MP4 reader from file input stream, sets up metadata generation flag.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#analyzeFrames()" class="member-name-link">analyzeFrames</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Performs frame analysis and generates metadata for use in seeking.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../flv/IKeyFrameDataAnalyzer.KeyFrameMeta.html" title="class in org.red5.io.flv">IKeyFrameDataAnalyzer.KeyFrameMeta</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#analyzeKeyFrames()" class="member-name-link">analyzeKeyFrames</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Analyze and return keyframe metadata.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Closes the reader and free any allocated memory.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#dumpBox(org.jcodec.containers.mp4.boxes.NodeBox)" class="member-name-link">dumpBox</a><wbr>(org.jcodec.containers.mp4.boxes.NodeBox&nbsp;box)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Dumps the children of a container box.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAudioCodecId()" class="member-name-link">getAudioCodecId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for the field <code>audioCodecId</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getBytesRead()" class="member-name-link">getBytesRead</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the amount of bytes read</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getDuration()" class="member-name-link">getDuration</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return length in seconds</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../IStreamableFile.html" title="interface in org.red5.io">IStreamableFile</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getFile()" class="member-name-link">getFile</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return the file that is loaded.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getOffset()" class="member-name-link">getOffset</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the offet length</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>long</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalBytes()" class="member-name-link">getTotalBytes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the total readable bytes in a file or ByteBuffer</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getVideoCodecId()" class="member-name-link">getVideoCodecId</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for the field <code>videoCodecId</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasMoreTags()" class="member-name-link">hasMoreTags</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a boolean stating whether the FLV has more tags</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#hasVideo()" class="member-name-link">hasVideo</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Check if the reader also has video tags.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#parseMovie(org.jcodec.common.io.SeekableByteChannel)" class="member-name-link">parseMovie</a><wbr>(org.jcodec.common.io.SeekableByteChannel&nbsp;dataSource)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This handles the moov atom being at the beginning or end of the file, so the mdat may also be before or after the moov atom.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#position(long)" class="member-name-link">position</a><wbr>(long&nbsp;pos)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Move the reader pointer to given position in file.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../ITag.html" title="interface in org.red5.io">ITag</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readTag()" class="member-name-link">readTag</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns a Tag object</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../ITag.html" title="interface in org.red5.io">ITag</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#readTagHeader()" class="member-name-link">readTagHeader</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">readTagHeader.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setAudioCodecId(java.lang.String)" class="member-name-link">setAudioCodecId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;audioCodecId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Setter for the field <code>audioCodecId</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setVideoCodecId(java.lang.String)" class="member-name-link">setVideoCodecId</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;videoCodecId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Setter for the field <code>videoCodecId</code>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.red5.io.ITagReader">Methods inherited from interface&nbsp;org.red5.io.<a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></h3>
<code><a href="../../ITagReader.html#decodeHeader()">decodeHeader</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="PREFIX_AUDIO_CONFIG_FRAME">
<h3>PREFIX_AUDIO_CONFIG_FRAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">PREFIX_AUDIO_CONFIG_FRAME</span></div>
<div class="block">Audio packet prefix for the decoder frame</div>
</section>
</li>
<li>
<section class="detail" id="PREFIX_AUDIO_FRAME">
<h3>PREFIX_AUDIO_FRAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">PREFIX_AUDIO_FRAME</span></div>
<div class="block">Audio packet prefix</div>
</section>
</li>
<li>
<section class="detail" id="EMPTY_AAC">
<h3>EMPTY_AAC</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">EMPTY_AAC</span></div>
<div class="block">Blank AAC data</div>
</section>
</li>
<li>
<section class="detail" id="PREFIX_VIDEO_CONFIG_FRAME">
<h3>PREFIX_VIDEO_CONFIG_FRAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">PREFIX_VIDEO_CONFIG_FRAME</span></div>
<div class="block">Video packet prefix for the decoder frame</div>
</section>
</li>
<li>
<section class="detail" id="PREFIX_VIDEO_KEYFRAME">
<h3>PREFIX_VIDEO_KEYFRAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">PREFIX_VIDEO_KEYFRAME</span></div>
<div class="block">Video packet prefix for key frames</div>
</section>
</li>
<li>
<section class="detail" id="PREFIX_VIDEO_FRAME">
<h3>PREFIX_VIDEO_FRAME</h3>
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">byte[]</span>&nbsp;<span class="element-name">PREFIX_VIDEO_FRAME</span></div>
<div class="block">Video packet prefix for standard frames (interframe)</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.io.File)">
<h3>MP4Reader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">MP4Reader</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/File.html" title="class or interface in java.io" class="external-link">File</a>&nbsp;f)</span>
          throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></span></div>
<div class="block">Creates MP4 reader from file input stream, sets up metadata generation flag.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>f</code> - File input stream</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/IOException.html" title="class or interface in java.io" class="external-link">IOException</a></code> - on IO exception</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="parseMovie(org.jcodec.common.io.SeekableByteChannel)">
<h3>parseMovie</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">parseMovie</span><wbr><span class="parameters">(org.jcodec.common.io.SeekableByteChannel&nbsp;dataSource)</span></div>
<div class="block">This handles the moov atom being at the beginning or end of the file, so the mdat may also be before or after the moov atom.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dataSource</code> - a <code>SeekableByteChannel</code> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="dumpBox(org.jcodec.containers.mp4.boxes.NodeBox)">
<h3>dumpBox</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">dumpBox</span><wbr><span class="parameters">(org.jcodec.containers.mp4.boxes.NodeBox&nbsp;box)</span></div>
<div class="block">Dumps the children of a container box.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>box</code> - mp4 box</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTotalBytes()">
<h3>getTotalBytes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getTotalBytes</span>()</div>
<div class="block">Get the total readable bytes in a file or ByteBuffer

 Get the total readable bytes in a file or IoBuffer.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#getTotalBytes()">getTotalBytes</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>Total readable bytes</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasVideo()">
<h3>hasVideo</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasVideo</span>()</div>
<div class="block">Check if the reader also has video tags.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#hasVideo()">hasVideo</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>has video</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getFile()">
<h3>getFile</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../IStreamableFile.html" title="interface in org.red5.io">IStreamableFile</a></span>&nbsp;<span class="element-name">getFile</span>()</div>
<div class="block">Return the file that is loaded.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#getFile()">getFile</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>the file to be loaded</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getOffset()">
<h3>getOffset</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getOffset</span>()</div>
<div class="block">Returns the offet length</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#getOffset()">getOffset</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>int</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getBytesRead()">
<h3>getBytesRead</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getBytesRead</span>()</div>
<div class="block">Returns the amount of bytes read</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#getBytesRead()">getBytesRead</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>long</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getDuration()">
<h3>getDuration</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name">getDuration</span>()</div>
<div class="block">Return length in seconds</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#getDuration()">getDuration</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>length in seconds</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getVideoCodecId()">
<h3>getVideoCodecId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getVideoCodecId</span>()</div>
<div class="block"><p>Getter for the field <code>videoCodecId</code>.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getAudioCodecId()">
<h3>getAudioCodecId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">getAudioCodecId</span>()</div>
<div class="block"><p>Getter for the field <code>audioCodecId</code>.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="hasMoreTags()">
<h3>hasMoreTags</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">hasMoreTags</span>()</div>
<div class="block">Returns a boolean stating whether the FLV has more tags</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#hasMoreTags()">hasMoreTags</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>boolean</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readTag()">
<h3>readTag</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../ITag.html" title="interface in org.red5.io">ITag</a></span>&nbsp;<span class="element-name">readTag</span>()</div>
<div class="block">Returns a Tag object

 Packages media data for return to providers</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#readTag()">readTag</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Returns:</dt>
<dd>Tag</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="analyzeFrames()">
<h3>analyzeFrames</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">analyzeFrames</span>()</div>
<div class="block">Performs frame analysis and generates metadata for use in seeking. All the frames are analyzed and sorted together based on time and
 offset.</div>
</section>
</li>
<li>
<section class="detail" id="position(long)">
<h3>position</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">position</span><wbr><span class="parameters">(long&nbsp;pos)</span></div>
<div class="block">Move the reader pointer to given position in file.

 Put the current position to pos. The caller must ensure the pos is a valid one.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#position(long)">position</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
<dt>Parameters:</dt>
<dd><code>pos</code> - File position to move to</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Closes the reader and free any allocated memory.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../ITagReader.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../ITagReader.html" title="interface in org.red5.io">ITagReader</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setVideoCodecId(java.lang.String)">
<h3>setVideoCodecId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setVideoCodecId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;videoCodecId)</span></div>
<div class="block"><p>Setter for the field <code>videoCodecId</code>.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>videoCodecId</code> - a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setAudioCodecId(java.lang.String)">
<h3>setAudioCodecId</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setAudioCodecId</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;audioCodecId)</span></div>
<div class="block"><p>Setter for the field <code>audioCodecId</code>.</p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>audioCodecId</code> - a <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="readTagHeader()">
<h3>readTagHeader</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../ITag.html" title="interface in org.red5.io">ITag</a></span>&nbsp;<span class="element-name">readTagHeader</span>()</div>
<div class="block"><p>readTagHeader.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <a href="../../ITag.html" title="interface in org.red5.io"><code>ITag</code></a> object</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="analyzeKeyFrames()">
<h3>analyzeKeyFrames</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../flv/IKeyFrameDataAnalyzer.KeyFrameMeta.html" title="class in org.red5.io.flv">IKeyFrameDataAnalyzer.KeyFrameMeta</a></span>&nbsp;<span class="element-name">analyzeKeyFrames</span>()</div>
<div class="block">Analyze and return keyframe metadata.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../../flv/IKeyFrameDataAnalyzer.html#analyzeKeyFrames()">analyzeKeyFrames</a></code>&nbsp;in interface&nbsp;<code><a href="../../flv/IKeyFrameDataAnalyzer.html" title="interface in org.red5.io.flv">IKeyFrameDataAnalyzer</a></code></dd>
<dt>Returns:</dt>
<dd>Metadata object</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2005&#x2013;2025 <a href="https://github.com/Red5">Red5</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
